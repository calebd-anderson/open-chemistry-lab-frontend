<header id="main-header">
  <h1 routerLink="/lab">The Open Chemistry Lab</h1>

  <!-- <button id="welcome-button" matButton (click)="openDialog()">
    Show Welcome Dialog
  </button> -->

  <div id="user-controls">
    <div id="user-buttons">
      <button [hidden]="!isAdmin" routerLink="/user/management" color="accent">
        User Managment
      </button>
      <button
        class="login-btn"
        data-toggle="modal"
        data-target="#loginModal"
        [hidden]="authenticationService.getIsLoggedIn()"
      >
        Login
      </button>
      <button
        class="logout-btn"
        [hidden]="!authenticationService.getIsLoggedIn()"
        (click)="onClickLogout()"
      >
        Logout
      </button>
    </div>

    <div
      class="profileInfo"
      [hidden]="!authenticationService.getIsLoggedIn()"
      (click)="onClickProfile()"
    >
      <span class="name">{{ user?.firstName }}</span>
      <button>
        <img
          height="40"
          width="40"
          src="{{ user?.profileImgUrl }}"
          class="rounded-circle img-fluid img-thumbnail"
          alt="profile image"
        />
      </button>
    </div>
  </div>
</header>

<nav>
  <app-tabs />
</nav>

<!-- dynamic routs -->
<router-outlet></router-outlet>

<!-- login modal -->
<div class="modal fade" id="loginModal" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <!-- the child newItemEvent of login sends $event to parent getLoggedIn of app-component -->
        <app-login (newItemEvent)="getLoggedIn($event)"></app-login>
      </div>
    </div>
  </div>
</div>

<!-- register modal -->
<div class="modal fade" id="registerModal" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <app-register></app-register>
      </div>
    </div>
  </div>
</div>
